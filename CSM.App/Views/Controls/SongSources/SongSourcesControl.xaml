<UserControl x:Class="CSM.App.Views.Controls.SongSources.SongSourcesControl"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:telerik="http://schemas.telerik.com/2008/xaml/presentation"
             xmlns:local="clr-namespace:CSM.App.Views.Controls.SongSources" xmlns:beatleader="clr-namespace:CSM.App.Views.Controls.BeatLeader"
             mc:Ignorable="d" 
             d:DesignHeight="450" d:DesignWidth="800">

    <UserControl.Resources>
        <DataTemplate x:Key="CustomLevelsDataTemplate">
            <local:SongSourcesCustomLevelsControl />
        </DataTemplate>

        <DataTemplate x:Key="PlaylistsDataTemplate">
            <local:SongSourcesPlaylistsControl />
        </DataTemplate>

        <DataTemplate x:Key="FavouritesDataTemplate">
            <local:SongSourcesBeatSaberFavouritesControl />
        </DataTemplate>

        <DataTemplate x:Key="SearchDataTemplate">
            <local:SongSourcesSongSearchControl />
        </DataTemplate>

        <DataTemplate x:Key="SongSuggestDataTemplate">
            <local:SongSourcesSongSuggestControl />
        </DataTemplate>

        <DataTemplate x:Key="TwitchDataTemplate">
            <local:SongSourcesTwitchControl />
        </DataTemplate>

        <DataTemplate x:Key="BeatLeaderDataTemplate">
            <beatleader:BeatLeaderControl />
        </DataTemplate>

        <local:SongSourceDataTemplateSelector x:Key="SongSourceDataTemplateSelector"
                                              CustomLevelsDataTemplate="{StaticResource CustomLevelsDataTemplate}"
                                              PlaylistsDataTemplate="{StaticResource PlaylistsDataTemplate}"
                                              FavouritesDataTemplate="{StaticResource FavouritesDataTemplate}"
                                              SearchDataTemplate="{StaticResource SearchDataTemplate}"
                                              SongSuggestDataTemplate="{StaticResource SongSuggestDataTemplate}"
                                              TwitchDataTemplate="{StaticResource TwitchDataTemplate}"
                                              BeatLeaderDataTemplate="{StaticResource BeatLeaderDataTemplate}"/>

    </UserControl.Resources>

    <telerik:RadBusyIndicator IsBusy="{Binding LoadingInProgress}">
        <Grid>

            <Grid Visibility="{Binding AnySourcesAvailable, Converter={StaticResource BooleanToVisibilityConverter}}">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
                <!-- Content -->
                <ContentControl Content="{Binding SelectedSource}" ContentTemplateSelector="{StaticResource SongSourceDataTemplateSelector}" />

                <!-- Navigation -->
                <Grid Grid.Column="1" Background="{telerik:Windows11Resource ResourceKey=AlternativeBrush}">
                    <StackPanel VerticalAlignment="Center" Margin="5,0,0,0">
                        <telerik:RadRadioButton GroupName="SongSourceGroup" Focusable="False" IsChecked="{Binding IsCustomLevelsSelected}" Padding="8" ToolTip="Custom Levels" Visibility="{Binding CustomLevelsAvailable, Converter={StaticResource BooleanToVisibilityConverter}}" Click="CustomLevels_Click">
                            <telerik:RadGlyph Glyph="&#xe023;" />
                        </telerik:RadRadioButton>
                        <telerik:RadRadioButton GroupName="SongSourceGroup" Focusable="False" IsChecked="{Binding IsPlaylistsSelected}" Padding="8" ToolTip="Playlists" Visibility="{Binding PlaylistsAvailable, Converter={StaticResource BooleanToVisibilityConverter}}" Click="Playlists_Click">
                            <telerik:RadGlyph Glyph="&#xe029;" />
                        </telerik:RadRadioButton>
                        <!--<telerik:RadRadioButton GroupName="SongSourceGroup" Focusable="False" IsChecked="{Binding IsFavouritesSelected}" Padding="8" ToolTip="Beat Saber Favourites" Visibility="{Binding FavouritesAvailable, Converter={StaticResource BooleanToVisibilityConverter}}" Click="Favourites_Click">
                            <telerik:RadGlyph Glyph="&#xe301;" />
                        </telerik:RadRadioButton>-->
                        <telerik:RadRadioButton GroupName="SongSourceGroup" Focusable="False" IsChecked="{Binding IsSearchSelected}" Padding="8" ToolTip="Search" Visibility="{Binding SearchAvailable, Converter={StaticResource BooleanToVisibilityConverter}}" Click="SongSearch_Click">
                            <telerik:RadGlyph Glyph="&#xe13e;" />
                        </telerik:RadRadioButton>
                        <telerik:RadRadioButton GroupName="SongSourceGroup" Focusable="False" IsChecked="{Binding IsSongSuggestSelected}" Padding="8" ToolTip="Song Suggest" Visibility="{Binding SongSuggestAvailable, Converter={StaticResource BooleanToVisibilityConverter}}" Click="SongSuggest_Click">
                            <telerik:RadGlyph Glyph="&#xe05f;" />
                        </telerik:RadRadioButton>
                        <telerik:RadRadioButton GroupName="SongSourceGroup" Focusable="False" IsChecked="{Binding IsTwitchSelected}" Padding="8" ToolTip="Twitch" Visibility="{Binding TwitchAvailable, Converter={StaticResource BooleanToVisibilityConverter}}" Click="Twitch_Click">
                            <telerik:RadGlyph Glyph="&#xe800;" />
                        </telerik:RadRadioButton>
                        <telerik:RadRadioButton GroupName="SongSourceGroup" Focusable="False" IsChecked="{Binding IsScoreSaberSelected}" Padding="8" ToolTip="Twitch" Visibility="{Binding ScoreSaberSelected, Converter={StaticResource BooleanToVisibilityConverter}}" Click="BeatLeader_Click">
                            <telerik:RadGlyph Glyph="&#xea0b;" />
                        </telerik:RadRadioButton>
                        <telerik:RadRadioButton GroupName="SongSourceGroup" Focusable="False" IsChecked="{Binding IsBeatLeaderSelected}" Padding="8" ToolTip="Twitch" Visibility="{Binding BeatLeaderAvailable, Converter={StaticResource BooleanToVisibilityConverter}}" Click="BeatLeader_Click">
                            <telerik:RadGlyph Glyph="&#xea00;" />
                        </telerik:RadRadioButton>
                    </StackPanel>
                </Grid>
            </Grid>


            <Grid Visibility="{Binding AnySourcesAvailable, Converter={StaticResource InvertedBooleanToVisibilityConverter}}">
                <Grid.RowDefinitions>
                    <RowDefinition Height="40" />
                    <RowDefinition Height="*" />
                </Grid.RowDefinitions>
                <!--Header-->
                <Grid Background="#88018574">
                    <TextBlock Text="Song sources" Style="{StaticResource HeaderTitleStyle}" />
                </Grid>
                <!--Content-->
                <Grid Grid.Row="1" VerticalAlignment="Center" HorizontalAlignment="Center">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                        <RowDefinition Height="Auto" />
                    </Grid.RowDefinitions>
                    <telerik:RadGlyph Glyph="&#xe116;" FontSize="30" />
                    <TextBlock Grid.Row="1" Text="No song sources configured" TextAlignment="Center" HorizontalAlignment="Center" Margin="0,10,0,3" TextWrapping="Wrap" FontWeight="DemiBold" />
                    <TextBlock Grid.Row="2" Text="Configure song sources in playlist settings" TextAlignment="Center" HorizontalAlignment="Center" TextWrapping="Wrap" />
                </Grid>
            </Grid>
        </Grid>
    </telerik:RadBusyIndicator>
</UserControl>
